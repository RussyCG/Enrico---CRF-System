<!DOCTYPE html>
<html ng-app="ngCRF" ng-controller="formController">
<head>
    <meta charset="utf-8" />
    <title>Discharge Form</title>

    <link rel="stylesheet" href="../../Content/bootstrap-datetimepicker.css" />

    <!-- Self created style sheet for page -->
    <link rel="stylesheet" href="/Views/Forms/FormBaseCSS.css" />

    <script src="../../Scripts/moment-with-locales.js"></script>
    <script src="../../Scripts/bootstrap-datetimepicker.js"></script>
</head>
<body>
    <header style="text-align: center;">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12">
                    <h2>Discharge Form</h2>
                </div>
            </div>
        </div>
    </header>

    <div class="container-fluid">
        <!-- Date of discharge -->
        <div class="row" id="vist-period">
            <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 form-grouping">
                <div class="form-header">
                    <h3>1. Date of Discharge</h3>
                </div>

                <div class="form-body">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-md-3">
                                <label>Date of discharge: </label>
                            </div>

                            <div class="col-md-9">
                                <!-- Bootstrap date time picker -->
                                <div class="container-fluid">
                                    <div class="row">
                                        <div class='col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12'>
                                            <div class="form-group">
                                                <div class='input-group date' id='dtDischarge'>
                                                    <input type='date' class="form-control"  ng-model="Form.DateOfDischarge.DateTime" />
                                                    <span class="input-group-addon">
                                                        <span class="glyphicon glyphicon-calendar"></span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- End of Bootstrap date time picker -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- End of date of discharge-->
        <!-- Hospitalization -->
        <div class="row" id="hospitalization">
            <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 form-grouping">
                <div class="form-header">
                    <h3>2. Hospitalization</h3>
                </div>
                <div class="form-body">
                    <div class="container-fluid">
                        <table class="table table-striped table-sm">
                            <thead>
                                <tr>
                                    <th colspan="2">If not applicable enter 0: </th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td colspan="2">Length of stay in ICU (from day of index procedure)</td>
                                    <td><input type="number" ng-model="Form.Hospitalization['LengthOfStayInICU']" /> days</td>
                                </tr>
                                <tr>
                                    <td colspan="2">Length of stay in intermediate care (from day of index procedure)</td>
                                    <td><input type="number" ng-model="Form.Hospitalization['LengthOfStayInIntermediateCare']" /> days</td>
                                </tr>
                                <tr>
                                    <td colspan="2">Length of stay in General Ward (from day of index procedure)</td>
                                    <td><input type="number" ng-model="Form.Hospitalization['LengthOfStayInGeneralWard']" /> days</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="container-fluid">
                        <table class="table table-striped table-sm">
                            <thead>
                                <tr>
                                    <th colspan="2">Patient Discharged To:  </th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td><input type="radio" name="radDischargeTo" ng-model="Form.DischargeTo" value="Home" class="info-selection" /></td><td>Home</td></tr>
                                <tr><td><input type="radio" name="radDischargeTo" ng-model="Form.DischargeTo" value="Another hospital" class="info-selection" ></td><td>Another hospital</td></tr>
                                <tr><td><input type="radio" name="radDischargeTo" ng-model="Form.DischargeTo" value="Extended care" class="info-selection"></td><td>Extended care</td></tr>
                                <tr><td><input type="radio" name="radDischargeTo" ng-model="Form.DischargeTo" value="Rehabilitation unit" class="info-selection"/></td><td>Rehabilitation unit</td></tr>
                                <tr><td><input type="radio" name="radDischargeTo" ng-model="Form.DischargeTo" value="Nursing home (permanent)" class="info-selection"></td><td>Nursing home (permanent)</td></tr>
                                <tr><td><input type="radio" name="radDischargeTo" ng-model="Form.DischargeTo" value="Patient Died" class="info-selection"></td><td>Patient Died* (Enter date of death as date of discharge)</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <!-- End of Hospitalization-->
        <!-- Adverse Event -->
        <div class="row" id="event-treatment">
            <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 form-grouping">
                <div class="form-header">
                    <h3>3. Adverse Events</h3>
                </div>

                <div class="container-fluid">
                    <table class="table table-striped table-sm">
                        <thead>
                            <tr>
                                <th colspan="2">Adverse Events (If yes, complete Adverse Event Form): </th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td><input type="radio" name="radAdverseEvent" ng-model="Form.AdverseEvent" class="info-selection" value="Yes"></td><td>Yes</td></tr>
                            <tr><td><input type="radio" name="radAdverseEvent" ng-model="Form.AdverseEvent" class="info-selection" value="No"></td><td>No</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- End of Adverse Event -->


        <!-- Navigation Buttons -->
        <div class="container-fluid navbar-fixed" id="navButtons">
            <div class="row">
                <div class="col-3 col-sm-3 col-md-3 col-lg-3 col-xl-3">
                    <button class="btn btn-warning" ng-click="ReturnToFormIndex()">< Back to Forms</button>
                </div>

                <div class="col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6">

                </div>

                <div class="col-3 col-sm-3 col-md-3 col-lg-3 col-xl-3">
                    <button class="btn btn-success" ng-click="PostDataToServer('Form3', Form)">Continue ></button>
                </div>
            </div>
        </div>

        <footer style="margin-top: 20px;">
            <h5><strong>Copyright &copy; <label id="lblFooterYear"></label> - The Belgium Campus</strong></h5>
        </footer>
    </div>


        <script type="text/javascript">
            document.getElementById('lblFooterYear').innerHTML = (new Date()).getFullYear();

            var toggleVisibility = function ($Element) {
                $('#' + $Element).toggle();
            }

           /* var DateTimePickers = ["dtDischarge", "dtPhysicalAssessment", "dtStudyRandomization", "dtHistoryOfVascularDiseaseStroke", "dtSurgicalInterventionCardiacSurgery", "dtSurgicalInterventionCarotidSurgery", "dtSurgicalInterventionOtherSurgery", "datetimepicker1"];

            $(function () {
                for (i = 0; i < DateTimePickers.length; i++) {
                    $('#' + DateTimePickers[i]).datetimepicker().datetimepicker();
                }
            });*/
        </script>
</body>
</html>